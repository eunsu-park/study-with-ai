# OSI 7계층 모델

## 개요

OSI(Open Systems Interconnection) 7계층 모델은 네트워크 통신을 7개의 계층으로 나누어 표준화한 참조 모델입니다. ISO(국제표준화기구)에서 1984년에 발표한 이 모델은 서로 다른 시스템 간의 통신을 가능하게 하는 프레임워크를 제공합니다. 이 레슨에서는 각 계층의 역할, 프로토콜, PDU의 개념, 그리고 캡슐화 과정을 학습합니다.

**난이도**: ⭐⭐ (초급-중급)

---

## 목차

1. [OSI 모델 개요](#1-osi-모델-개요)
2. [7계층 상세 설명](#2-7계층-상세-설명)
3. [각 계층의 프로토콜](#3-각-계층의-프로토콜)
4. [PDU (Protocol Data Unit)](#4-pdu-protocol-data-unit)
5. [캡슐화와 역캡슐화](#5-캡슐화와-역캡슐화)
6. [계층별 주요 장비](#6-계층별-주요-장비)
7. [OSI 모델의 실제 적용](#7-osi-모델의-실제-적용)
8. [연습 문제](#8-연습-문제)

---

## 1. OSI 모델 개요

### OSI 모델이란?

```
┌─────────────────────────────────────────────────────────────────┐
│                 OSI (Open Systems Interconnection)               │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   "개방형 시스템 간 상호 연결을 위한 참조 모델"                  │
│                                                                  │
│   목적:                                                         │
│   1. 네트워크 통신 과정을 표준화                                │
│   2. 서로 다른 벤더의 장비 간 호환성 보장                       │
│   3. 네트워크 문제 해결을 위한 체계적 접근                      │
│   4. 개발자와 엔지니어 간 공통 언어 제공                        │
│                                                                  │
│   역사:                                                         │
│   - 1977년: ISO에서 작업 시작                                   │
│   - 1984년: OSI 참조 모델 발표 (ISO 7498)                       │
│   - 현재: 실제 구현보다 교육/참조 모델로 사용                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 7계층 구조 개요

```
┌─────────────────────────────────────────────────────────────────┐
│                      OSI 7계층 모델                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   계층 번호        계층 이름              주요 기능             │
│   ────────────────────────────────────────────────────────────  │
│                                                                  │
│     ┌─────────────────────────────────────────────────────┐     │
│   7 │             응용 계층 (Application)                  │     │
│     │        사용자와 네트워크 간 인터페이스               │     │
│     ├─────────────────────────────────────────────────────┤     │
│   6 │             표현 계층 (Presentation)                 │     │
│     │        데이터 형식 변환, 암호화, 압축                │     │
│     ├─────────────────────────────────────────────────────┤     │
│   5 │              세션 계층 (Session)                     │     │
│     │        연결 설정, 유지, 종료 관리                    │     │
│     ├─────────────────────────────────────────────────────┤     │
│   4 │              전송 계층 (Transport)                   │     │
│     │        종단 간 신뢰성 있는 데이터 전송               │     │
│     ├─────────────────────────────────────────────────────┤     │
│   3 │            네트워크 계층 (Network)                   │     │
│     │        논리적 주소 지정, 라우팅                      │     │
│     ├─────────────────────────────────────────────────────┤     │
│   2 │           데이터링크 계층 (Data Link)                │     │
│     │        물리적 주소 지정, 프레임 전송                 │     │
│     ├─────────────────────────────────────────────────────┤     │
│   1 │              물리 계층 (Physical)                    │     │
│     │        비트 전송, 물리적 연결                        │     │
│     └─────────────────────────────────────────────────────┘     │
│                                                                  │
│   암기 팁 (위에서 아래로):                                      │
│   "All People Seem To Need Data Processing"                     │
│   (Application, Presentation, Session, Transport,               │
│    Network, Data Link, Physical)                                │
│                                                                  │
│   암기 팁 (아래에서 위로):                                      │
│   "Please Do Not Throw Sausage Pizza Away"                      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 분류

```
┌─────────────────────────────────────────────────────────────────┐
│                       계층 분류                                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   상위 계층 (Host Layers) - 소프트웨어 구현                     │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  7. 응용 계층    │                                       │   │
│   │  6. 표현 계층    │  → 데이터 처리/표현에 관여           │   │
│   │  5. 세션 계층    │  → 애플리케이션 지원                 │   │
│   │  4. 전송 계층    │                                       │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   하위 계층 (Media Layers) - 하드웨어/펌웨어 구현               │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  3. 네트워크 계층 │                                      │   │
│   │  2. 데이터링크    │  → 실제 데이터 전송에 관여          │   │
│   │  1. 물리 계층     │  → 네트워크 인프라                  │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. 7계층 상세 설명

### 계층 7: 응용 계층 (Application Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                  7계층: 응용 계층 (Application)                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 사용자와 네트워크 서비스 간의 인터페이스 제공           │
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                      사용자                              │   │
│   │                        │                                 │   │
│   │                   [웹 브라우저]                          │   │
│   │                        │                                 │   │
│   │                   ┌────┴────┐                            │   │
│   │                   │ 응용 계층 │                            │   │
│   │                   │ (HTTP)   │                            │   │
│   │                   └─────────┘                            │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 네트워크 서비스 제공                                  │   │
│   │    - 파일 전송, 이메일, 웹 브라우징                     │   │
│   │                                                          │   │
│   │ 2. 애플리케이션 프로토콜 구현                           │   │
│   │    - HTTP, FTP, SMTP, DNS, SSH                          │   │
│   │                                                          │   │
│   │ 3. 데이터 생성 및 표시                                  │   │
│   │    - 사용자 입력 처리, 결과 표시                        │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   프로토콜 예시:                                                │
│   ┌──────────┬───────────────────────────────────────────┐      │
│   │ HTTP/S   │ 웹 페이지 전송 (포트 80/443)              │      │
│   │ FTP      │ 파일 전송 (포트 20/21)                    │      │
│   │ SMTP     │ 이메일 전송 (포트 25)                     │      │
│   │ POP3     │ 이메일 수신 (포트 110)                    │      │
│   │ IMAP     │ 이메일 접근 (포트 143)                    │      │
│   │ DNS      │ 도메인 이름 해석 (포트 53)                │      │
│   │ SSH      │ 원격 접속 (포트 22)                       │      │
│   │ Telnet   │ 원격 접속 (포트 23, 비암호화)             │      │
│   └──────────┴───────────────────────────────────────────┘      │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 6: 표현 계층 (Presentation Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                 6계층: 표현 계층 (Presentation)                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 데이터의 형식 변환, 암호화, 압축                        │
│         "데이터의 번역가"                                       │
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   애플리케이션 데이터                                   │   │
│   │         │                                                │   │
│   │         ▼                                                │   │
│   │   ┌─────────────────────────────────────────────┐       │   │
│   │   │              표현 계층                        │       │   │
│   │   │                                              │       │   │
│   │   │   ┌──────────┐ ┌──────────┐ ┌──────────┐   │       │   │
│   │   │   │ 형식 변환 │ │  암호화   │ │   압축   │   │       │   │
│   │   │   │  (코덱)  │ │ (SSL/TLS)│ │ (GZIP)   │   │       │   │
│   │   │   └──────────┘ └──────────┘ └──────────┘   │       │   │
│   │   │                                              │       │   │
│   │   └─────────────────────────────────────────────┘       │   │
│   │         │                                                │   │
│   │         ▼                                                │   │
│   │   전송 가능한 형태                                      │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 데이터 변환 (Translation)                            │   │
│   │    - 문자 인코딩: ASCII, UTF-8, EBCDIC                  │   │
│   │    - 데이터 포맷: JPEG, GIF, MPEG, HTML                 │   │
│   │                                                          │   │
│   │ 2. 암호화/복호화 (Encryption/Decryption)                │   │
│   │    - SSL/TLS 암호화                                     │   │
│   │    - 데이터 보안                                        │   │
│   │                                                          │   │
│   │ 3. 압축/압축 해제 (Compression)                         │   │
│   │    - 데이터 크기 축소                                   │   │
│   │    - 전송 효율 향상                                     │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   예시:                                                         │
│   - HTTPS에서 SSL/TLS 암호화                                   │
│   - 이미지 파일 JPEG 압축                                      │
│   - 비디오 스트리밍 코덱 (H.264, H.265)                        │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 5: 세션 계층 (Session Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                   5계층: 세션 계층 (Session)                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 두 시스템 간의 통신 세션을 설정, 유지, 종료             │
│         "대화의 관리자"                                         │
│                                                                  │
│   세션의 생명 주기:                                             │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │     ┌──────────┐                                        │   │
│   │     │ 연결 설정 │  ← 세션 시작, 인증                    │   │
│   │     └────┬─────┘                                        │   │
│   │          │                                               │   │
│   │          ▼                                               │   │
│   │     ┌──────────┐                                        │   │
│   │     │ 데이터   │  ← 양방향 통신                         │   │
│   │     │ 전송     │  ← 동기점 설정 (체크포인트)            │   │
│   │     └────┬─────┘                                        │   │
│   │          │                                               │   │
│   │          ▼                                               │   │
│   │     ┌──────────┐                                        │   │
│   │     │ 연결 해제 │  ← 세션 종료                          │   │
│   │     └──────────┘                                        │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 대화 제어 (Dialog Control)                           │   │
│   │    - 단방향 (Simplex)                                   │   │
│   │    - 반이중 (Half-duplex)                               │   │
│   │    - 전이중 (Full-duplex)                               │   │
│   │                                                          │   │
│   │ 2. 동기화 (Synchronization)                             │   │
│   │    - 체크포인트 설정                                    │   │
│   │    - 장애 시 복구 지점 제공                             │   │
│   │                                                          │   │
│   │ 3. 세션 관리                                            │   │
│   │    - 인증 및 권한 부여                                  │   │
│   │    - 세션 ID 관리                                       │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   통신 모드:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   단방향 (Simplex):      A ───────────► B               │   │
│   │                          (라디오 방송)                   │   │
│   │                                                          │   │
│   │   반이중 (Half-duplex):  A ◄─────────► B               │   │
│   │                          (한 번에 한 방향만)            │   │
│   │                          (무전기)                        │   │
│   │                                                          │   │
│   │   전이중 (Full-duplex):  A ◄═════════► B               │   │
│   │                          (양방향 동시 통신)             │   │
│   │                          (전화)                          │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   프로토콜/기술: NetBIOS, RPC, PPTP, SIP                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 4: 전송 계층 (Transport Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                  4계층: 전송 계층 (Transport)                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 종단 간(End-to-End) 신뢰성 있는 데이터 전송             │
│         "데이터 전송의 품질 관리자"                             │
│                                                                  │
│   종단 간 통신:                                                 │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   송신 호스트                      수신 호스트           │   │
│   │   ┌─────────┐                     ┌─────────┐           │   │
│   │   │ 응용    │                     │ 응용    │           │   │
│   │   │ 프로세스│                     │ 프로세스│           │   │
│   │   └────┬────┘                     └────┬────┘           │   │
│   │        │                               │                │   │
│   │   ┌────┴────┐  ←─────────────────→ ┌────┴────┐         │   │
│   │   │ 전송계층 │    종단 간 연결      │ 전송계층 │         │   │
│   │   │ (TCP)   │    (가상 연결)       │ (TCP)   │         │   │
│   │   └─────────┘                      └─────────┘         │   │
│   │        │           네트워크           │                 │   │
│   │        └───────────────────────────────┘                │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 세그먼테이션 (Segmentation)                          │   │
│   │    - 큰 데이터를 작은 세그먼트로 분할                   │   │
│   │    - 각 세그먼트에 순서 번호 부여                       │   │
│   │                                                          │   │
│   │ 2. 흐름 제어 (Flow Control)                             │   │
│   │    - 수신자의 처리 능력에 맞춰 전송 속도 조절           │   │
│   │    - 슬라이딩 윈도우 방식                               │   │
│   │                                                          │   │
│   │ 3. 오류 제어 (Error Control)                            │   │
│   │    - 손실된 세그먼트 재전송                             │   │
│   │    - 중복 데이터 제거                                   │   │
│   │                                                          │   │
│   │ 4. 연결 관리                                            │   │
│   │    - 연결 설정 (3-way handshake)                        │   │
│   │    - 연결 해제 (4-way handshake)                        │   │
│   │                                                          │   │
│   │ 5. 포트 번호를 통한 프로세스 식별                       │   │
│   │    - 출발지/목적지 포트 번호                            │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 프로토콜:                                                │
│   ┌─────────────┬──────────────────────────────────────────┐    │
│   │    TCP      │ 연결 지향, 신뢰성 보장                   │    │
│   │             │ 순서 보장, 흐름/오류 제어                │    │
│   │             │ 웹, 이메일, 파일 전송                    │    │
│   ├─────────────┼──────────────────────────────────────────┤    │
│   │    UDP      │ 비연결, 신뢰성 없음                      │    │
│   │             │ 빠른 전송, 오버헤드 적음                 │    │
│   │             │ 스트리밍, DNS, 게임                      │    │
│   └─────────────┴──────────────────────────────────────────┘    │
│                                                                  │
│   포트 번호 범위:                                               │
│   - Well-known 포트: 0-1023 (시스템/표준 서비스)               │
│   - Registered 포트: 1024-49151 (등록된 서비스)                │
│   - Dynamic 포트: 49152-65535 (임시/클라이언트)                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 3: 네트워크 계층 (Network Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                 3계층: 네트워크 계층 (Network)                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 논리적 주소 지정과 최적 경로 결정 (라우팅)              │
│         "우편 시스템의 배달 경로 설계자"                        │
│                                                                  │
│   라우팅 개념:                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   네트워크 A            네트워크 B           네트워크 C  │   │
│   │   ┌─────────┐          ┌─────────┐          ┌─────────┐ │   │
│   │   │ 192.168.│          │ 10.0.0. │          │ 172.16. │ │   │
│   │   │ 1.0/24  │          │ 0.0/8   │          │ 0.0/16  │ │   │
│   │   └────┬────┘          └────┬────┘          └────┬────┘ │   │
│   │        │                    │                    │      │   │
│   │        └───────┬────────────┴─────────┬──────────┘      │   │
│   │                │                      │                  │   │
│   │           ┌────┴────┐            ┌────┴────┐            │   │
│   │           │ 라우터1  │────────────│ 라우터2  │            │   │
│   │           └─────────┘            └─────────┘            │   │
│   │                │                      │                  │   │
│   │                └──────────┬───────────┘                  │   │
│   │                           │                              │   │
│   │                      ┌────┴────┐                        │   │
│   │                      │ 인터넷  │                        │   │
│   │                      └─────────┘                        │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 논리적 주소 지정 (Logical Addressing)                │   │
│   │    - IP 주소 할당                                       │   │
│   │    - 네트워크 식별                                      │   │
│   │                                                          │   │
│   │ 2. 라우팅 (Routing)                                     │   │
│   │    - 최적 경로 결정                                     │   │
│   │    - 라우팅 테이블 관리                                 │   │
│   │                                                          │   │
│   │ 3. 패킷 포워딩 (Packet Forwarding)                      │   │
│   │    - 다음 홉으로 패킷 전달                              │   │
│   │                                                          │   │
│   │ 4. 패킷 분할/재조합 (Fragmentation)                     │   │
│   │    - MTU에 맞게 패킷 분할                               │   │
│   │    - 목적지에서 재조합                                  │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 프로토콜:                                                │
│   ┌─────────────┬──────────────────────────────────────────┐    │
│   │    IP       │ 인터넷 프로토콜 (IPv4, IPv6)             │    │
│   │    ICMP     │ 오류 보고, ping                          │    │
│   │    ARP      │ IP → MAC 주소 변환                       │    │
│   │    RARP     │ MAC → IP 주소 변환                       │    │
│   │    OSPF     │ 라우팅 프로토콜                          │    │
│   │    BGP      │ 자율 시스템 간 라우팅                    │    │
│   └─────────────┴──────────────────────────────────────────┘    │
│                                                                  │
│   주요 장비: 라우터, L3 스위치                                  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 2: 데이터링크 계층 (Data Link Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│               2계층: 데이터링크 계층 (Data Link)                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 인접한 노드 간의 신뢰성 있는 프레임 전송                │
│         "물리 계층의 오류를 교정하는 계층"                      │
│                                                                  │
│   두 개의 하위 계층:                                            │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   ┌─────────────────────────────────────────────────┐   │   │
│   │   │              LLC (Logical Link Control)          │   │   │
│   │   │              논리적 링크 제어                     │   │   │
│   │   │   - 상위 계층과의 인터페이스                     │   │   │
│   │   │   - 흐름 제어, 오류 제어                         │   │   │
│   │   │   - 프레임 동기화                                │   │   │
│   │   └─────────────────────────────────────────────────┘   │   │
│   │                                                          │   │
│   │   ┌─────────────────────────────────────────────────┐   │   │
│   │   │              MAC (Media Access Control)          │   │   │
│   │   │              매체 접근 제어                       │   │   │
│   │   │   - MAC 주소 지정                                │   │   │
│   │   │   - 매체 접근 방식 결정                          │   │   │
│   │   │   - 충돌 감지/회피                               │   │   │
│   │   └─────────────────────────────────────────────────┘   │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 프레이밍 (Framing)                                   │   │
│   │    - 비트 스트림을 프레임으로 구성                      │   │
│   │    - 시작/종료 구분자 추가                              │   │
│   │                                                          │   │
│   │ 2. 물리적 주소 지정 (Physical Addressing)               │   │
│   │    - MAC 주소 (48비트)                                  │   │
│   │    - 유일한 하드웨어 주소                               │   │
│   │                                                          │   │
│   │ 3. 오류 검출 (Error Detection)                          │   │
│   │    - CRC (Cyclic Redundancy Check)                      │   │
│   │    - 체크섬                                             │   │
│   │                                                          │   │
│   │ 4. 매체 접근 제어                                       │   │
│   │    - CSMA/CD (이더넷)                                   │   │
│   │    - CSMA/CA (무선)                                     │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   프레임 구조 (이더넷):                                         │
│   ┌──────┬───────┬───────┬──────┬─────────┬─────┐              │
│   │Pream │ Dest  │ Src   │ Type │  Data   │ FCS │              │
│   │ ble  │ MAC   │ MAC   │      │         │     │              │
│   │(8B)  │(6B)   │(6B)   │(2B)  │(46-1500)│(4B) │              │
│   └──────┴───────┴───────┴──────┴─────────┴─────┘              │
│                                                                  │
│   프로토콜/기술: 이더넷 (802.3), Wi-Fi (802.11), PPP           │
│   주요 장비: 스위치, 브리지, NIC                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 계층 1: 물리 계층 (Physical Layer)

```
┌─────────────────────────────────────────────────────────────────┐
│                  1계층: 물리 계층 (Physical)                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   역할: 비트(0과 1)를 물리적 신호로 변환하여 전송               │
│         "네트워크의 기초 공사"                                  │
│                                                                  │
│   비트 전송:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                                                          │   │
│   │   디지털 데이터: 1 0 1 1 0 0 1 0                        │   │
│   │                  │ │ │ │ │ │ │ │                        │   │
│   │                  ▼ ▼ ▼ ▼ ▼ ▼ ▼ ▼                        │   │
│   │                                                          │   │
│   │   전기 신호:   ┌─┐ ┌─┐ ┌─┐   ┌─┐                        │   │
│   │   (유선)      │ │ │ │ │ │   │ │                        │   │
│   │            ───┘ └─┘ └─┘ └───┘ └───                      │   │
│   │                                                          │   │
│   │   광 신호:    ● ○ ● ● ○ ○ ● ○                           │   │
│   │   (광섬유)    (빛의 점멸)                                │   │
│   │                                                          │   │
│   │   무선 신호:  ∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿∿                          │   │
│   │   (Wi-Fi)     (전자기파 변조)                            │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   주요 기능:                                                    │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │ 1. 비트 전송 (Bit Transmission)                         │   │
│   │    - 0과 1을 신호로 변환                                │   │
│   │    - 신호를 0과 1로 복원                                │   │
│   │                                                          │   │
│   │ 2. 물리적 특성 정의                                     │   │
│   │    - 케이블 종류, 커넥터 규격                           │   │
│   │    - 핀 배치, 전압 레벨                                 │   │
│   │                                                          │   │
│   │ 3. 전송 모드 정의                                       │   │
│   │    - 단방향/양방향, 동기/비동기                         │   │
│   │                                                          │   │
│   │ 4. 데이터 전송률 정의                                   │   │
│   │    - 대역폭, bps (bits per second)                      │   │
│   │                                                          │   │
│   │ 5. 동기화                                               │   │
│   │    - 송신자와 수신자의 타이밍 일치                      │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   전송 매체:                                                    │
│   ┌─────────────┬──────────────────────────────────────────┐    │
│   │   유선      │ 동축 케이블, UTP, STP, 광섬유            │    │
│   │   무선      │ 라디오파 (Wi-Fi), 마이크로파, 적외선     │    │
│   └─────────────┴──────────────────────────────────────────┘    │
│                                                                  │
│   주요 장비: 허브, 리피터, 케이블, 커넥터, NIC                  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 3. 각 계층의 프로토콜

### 계층별 프로토콜 정리

```
┌─────────────────────────────────────────────────────────────────┐
│                     계층별 주요 프로토콜                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  계층         프로토콜                         설명             │
│  ─────────────────────────────────────────────────────────────  │
│                                                                  │
│  7. 응용      HTTP, HTTPS      웹 통신                          │
│               FTP, SFTP        파일 전송                        │
│               SMTP, POP3, IMAP 이메일                           │
│               DNS              도메인 이름 해석                 │
│               DHCP             IP 주소 자동 할당                │
│               SSH, Telnet      원격 접속                        │
│               SNMP             네트워크 관리                    │
│               NTP              시간 동기화                      │
│                                                                  │
│  6. 표현      SSL/TLS          암호화                           │
│               JPEG, GIF, MPEG  미디어 형식                      │
│               ASCII, EBCDIC    문자 인코딩                      │
│               XDR              데이터 표현                      │
│                                                                  │
│  5. 세션      NetBIOS          네트워크 기본 입출력             │
│               RPC              원격 프로시저 호출               │
│               PPTP             터널링                           │
│               SIP              VoIP 세션 제어                   │
│                                                                  │
│  4. 전송      TCP              신뢰성 있는 전송                 │
│               UDP              비신뢰성 빠른 전송               │
│               SCTP             스트림 전송                      │
│               DCCP             데이터그램 혼잡 제어             │
│                                                                  │
│  3. 네트워크  IP (IPv4, IPv6)  인터넷 프로토콜                  │
│               ICMP             오류 메시지, ping                │
│               ARP, RARP        주소 변환                        │
│               OSPF, RIP, BGP   라우팅 프로토콜                  │
│               IGMP             멀티캐스트 그룹 관리             │
│                                                                  │
│  2. 데이터링크 이더넷 (802.3)   유선 LAN                         │
│               Wi-Fi (802.11)   무선 LAN                         │
│               PPP              점대점 연결                      │
│               HDLC             데이터 링크 제어                 │
│               Frame Relay      WAN 프로토콜                     │
│                                                                  │
│  1. 물리      RS-232           시리얼 통신                      │
│               RJ-45            이더넷 커넥터                    │
│               IEEE 802.3       이더넷 물리 규격                 │
│               DSL              디지털 가입자 회선               │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 주요 포트 번호

```
┌─────────────────────────────────────────────────────────────────┐
│                      주요 포트 번호                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   Well-Known 포트 (0-1023)                                      │
│   ┌──────────┬──────────┬────────────────────────────────────┐  │
│   │ 포트번호 │ 프로토콜 │               용도                 │  │
│   ├──────────┼──────────┼────────────────────────────────────┤  │
│   │    20    │   FTP    │ 데이터 전송                        │  │
│   │    21    │   FTP    │ 제어 연결                          │  │
│   │    22    │   SSH    │ 보안 셸                            │  │
│   │    23    │  Telnet  │ 원격 접속 (비보안)                 │  │
│   │    25    │   SMTP   │ 메일 전송                          │  │
│   │    53    │   DNS    │ 도메인 이름 해석                   │  │
│   │    67    │   DHCP   │ 서버                               │  │
│   │    68    │   DHCP   │ 클라이언트                         │  │
│   │    80    │   HTTP   │ 웹 (비암호화)                      │  │
│   │   110    │   POP3   │ 메일 수신                          │  │
│   │   143    │   IMAP   │ 메일 접근                          │  │
│   │   443    │  HTTPS   │ 웹 (암호화)                        │  │
│   │   3389   │   RDP    │ 원격 데스크톱                      │  │
│   └──────────┴──────────┴────────────────────────────────────┘  │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. PDU (Protocol Data Unit)

### PDU 개념

```
┌─────────────────────────────────────────────────────────────────┐
│                  PDU (Protocol Data Unit)                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   PDU: 각 계층에서 처리하는 데이터의 단위                       │
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  계층              PDU 이름          구성               │   │
│   ├─────────────────────────────────────────────────────────┤   │
│   │  7. 응용           Data (데이터)      사용자 데이터     │   │
│   │  6. 표현           Data (데이터)      인코딩된 데이터   │   │
│   │  5. 세션           Data (데이터)      세션 데이터       │   │
│   │  4. 전송           Segment(세그먼트) 헤더 + 데이터      │   │
│   │                    또는 Datagram                        │   │
│   │  3. 네트워크       Packet (패킷)      헤더 + 세그먼트   │   │
│   │  2. 데이터링크     Frame (프레임)     헤더 + 패킷 + 트레│   │
│   │                                       일러              │   │
│   │  1. 물리           Bit (비트)         0과 1의 스트림    │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   계층별 PDU 구조:                                              │
│                                                                  │
│   응용/표현/세션:                                               │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │                        DATA                              │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
│   전송 계층 (Segment):                                          │
│   ┌──────────────┬──────────────────────────────────────────┐   │
│   │ TCP/UDP 헤더 │                    DATA                   │   │
│   └──────────────┴──────────────────────────────────────────┘   │
│                                                                  │
│   네트워크 계층 (Packet):                                       │
│   ┌───────────┬──────────────┬──────────────────────────────┐   │
│   │  IP 헤더  │ TCP/UDP 헤더 │            DATA               │   │
│   └───────────┴──────────────┴──────────────────────────────┘   │
│                                                                  │
│   데이터링크 계층 (Frame):                                      │
│   ┌────────┬───────────┬──────────────┬─────────────┬───────┐   │
│   │프리앰블│이더넷헤더 │   IP 헤더   │   Segment   │  FCS  │   │
│   └────────┴───────────┴──────────────┴─────────────┴───────┘   │
│                                                                  │
│   물리 계층 (Bits):                                             │
│   10110010 11010101 00101101 11100010 ...                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### TCP vs UDP 세그먼트

```
┌─────────────────────────────────────────────────────────────────┐
│                   TCP 세그먼트 구조 (20+ 바이트)                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    0                   1                   2                   3 │
│    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |          Source Port          |       Destination Port        │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |                        Sequence Number                        │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |                    Acknowledgment Number                      │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |  Data |           |U|A|P|R|S|F|                               │
│   | Offset| Reserved  |R|C|S|S|Y|I|            Window             │
│   |       |           |G|K|H|T|N|N|                               │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |           Checksum            |         Urgent Pointer        │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |                    Options (if any)                           │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |                             Data                              │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│                                                                  │
│   플래그: SYN(연결요청), ACK(확인응답), FIN(연결종료),          │
│          RST(강제종료), PSH(즉시전달), URG(긴급데이터)          │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│                   UDP 데이터그램 구조 (8 바이트)                  │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│    0                   1                   2                   3 │
│    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |          Source Port          |       Destination Port        │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |            Length             |           Checksum            │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│   |                             Data                              │
│   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+│
│                                                                  │
│   TCP보다 훨씬 단순함 → 오버헤드 적음 → 빠른 전송               │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 5. 캡슐화와 역캡슐화

### 캡슐화 (Encapsulation)

```
┌─────────────────────────────────────────────────────────────────┐
│                    캡슐화 (Encapsulation)                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   데이터가 상위 계층에서 하위 계층으로 내려가면서               │
│   각 계층의 헤더(제어 정보)가 추가되는 과정                      │
│                                                                  │
│   송신측 (데이터 전송 과정):                                    │
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  응용 계층                                               │   │
│   │  ┌─────────────────────────────────────────────────┐    │   │
│   │  │                   DATA                           │    │   │
│   │  └─────────────────────────────────────────────────┘    │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  표현 계층                                               │   │
│   │  ┌─────────────────────────────────────────────────┐    │   │
│   │  │               DATA (암호화/압축)                 │    │   │
│   │  └─────────────────────────────────────────────────┘    │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  세션 계층                                               │   │
│   │  ┌─────────────────────────────────────────────────┐    │   │
│   │  │                   DATA                           │    │   │
│   │  └─────────────────────────────────────────────────┘    │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  전송 계층                                               │   │
│   │  ┌──────────┬──────────────────────────────────────┐    │   │
│   │  │ TCP 헤더 │              DATA                     │    │   │
│   │  └──────────┴──────────────────────────────────────┘    │   │
│   │       ↑            Segment (세그먼트)                   │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  네트워크 계층                                           │   │
│   │  ┌────────┬──────────┬──────────────────────────────┐   │   │
│   │  │IP 헤더 │ TCP 헤더 │            DATA               │   │   │
│   │  └────────┴──────────┴──────────────────────────────┘   │   │
│   │      ↑            Packet (패킷)                         │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  데이터링크 계층                                         │   │
│   │  ┌──────┬────────┬──────────┬───────────────────┬─────┐│   │
│   │  │ 헤더 │IP 헤더 │ TCP 헤더 │       DATA        │ FCS ││   │
│   │  └──────┴────────┴──────────┴───────────────────┴─────┘│   │
│   │     ↑            Frame (프레임)                    ↑    │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  물리 계층                                               │   │
│   │  10110100 01101011 11010010 10101100 ...                │   │
│   │                    Bits (비트)                           │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 역캡슐화 (Decapsulation)

```
┌─────────────────────────────────────────────────────────────────┐
│                  역캡슐화 (Decapsulation)                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   수신측에서 데이터가 하위 계층에서 상위 계층으로 올라가면서    │
│   각 계층의 헤더가 제거되는 과정                                │
│                                                                  │
│   수신측 (데이터 수신 과정):                                    │
│                                                                  │
│   ┌─────────────────────────────────────────────────────────┐   │
│   │  물리 계층                                               │   │
│   │  10110100 01101011 11010010 10101100 ...                │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  데이터링크 계층                                         │   │
│   │  ┌──────┬────────┬──────────┬───────────────────┬─────┐│   │
│   │  │ 헤더 │IP 헤더 │ TCP 헤더 │       DATA        │ FCS ││   │
│   │  └──────┴────────┴──────────┴───────────────────┴─────┘│   │
│   │     │    │         FCS 확인 후 헤더/트레일러 제거    │  │   │
│   │     ▼    │                                              │   │
│   │  [제거]  │                                              │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  네트워크 계층                                           │   │
│   │  ┌────────┬──────────┬──────────────────────────────┐   │   │
│   │  │IP 헤더 │ TCP 헤더 │            DATA               │   │   │
│   │  └────────┴──────────┴──────────────────────────────┘   │   │
│   │     │        IP 헤더 확인 후 제거                       │   │
│   │     ▼                                                    │   │
│   │  [제거]                                                  │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  전송 계층                                               │   │
│   │  ┌──────────┬──────────────────────────────────────┐    │   │
│   │  │ TCP 헤더 │              DATA                     │    │   │
│   │  └──────────┴──────────────────────────────────────┘    │   │
│   │      │         TCP 헤더 확인 후 제거                    │   │
│   │      ▼                                                   │   │
│   │   [제거]                                                 │   │
│   │                           │                              │   │
│   │                           ▼                              │   │
│   │  세션/표현/응용 계층                                     │   │
│   │  ┌─────────────────────────────────────────────────┐    │   │
│   │  │                   DATA                           │    │   │
│   │  └─────────────────────────────────────────────────┘    │   │
│   │                                                          │   │
│   │                   애플리케이션에 전달                    │   │
│   │                                                          │   │
│   └─────────────────────────────────────────────────────────┘   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 캡슐화/역캡슐화 전체 과정

```
┌─────────────────────────────────────────────────────────────────┐
│                전체 통신 과정 (송신 → 수신)                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│      송신 호스트                         수신 호스트            │
│   ┌─────────────────┐               ┌─────────────────┐         │
│   │    응용 계층    │               │    응용 계층    │         │
│   │  [DATA 생성]    │               │  [DATA 사용]    │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │ 캡슐화                          │ 역캡슐화          │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │    표현 계층    │               │    표현 계층    │         │
│   │  [암호화/압축]   │               │  [복호화/해제]   │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │                                 │                   │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │    세션 계층    │               │    세션 계층    │         │
│   │  [세션 관리]    │               │  [세션 관리]    │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │                                 │                   │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │    전송 계층    │               │    전송 계층    │         │
│   │  [+TCP 헤더]    │               │  [-TCP 헤더]    │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │ Segment                         │                   │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │  네트워크 계층  │               │  네트워크 계층  │         │
│   │  [+IP 헤더]     │               │  [-IP 헤더]     │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │ Packet                          │                   │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │ 데이터링크 계층 │               │ 데이터링크 계층 │         │
│   │ [+Eth헤더+FCS]  │               │ [-Eth헤더-FCS]  │         │
│   └────────┬────────┘               └────────▲────────┘         │
│            │ Frame                           │                   │
│   ┌────────▼────────┐               ┌────────┴────────┐         │
│   │   물리 계층     │               │   물리 계층     │         │
│   │  [비트 전송]    │──────────────►│  [비트 수신]    │         │
│   └─────────────────┘   네트워크    └─────────────────┘         │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 계층별 주요 장비

### 계층별 장비 매핑

```
┌─────────────────────────────────────────────────────────────────┐
│                     계층별 네트워크 장비                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  계층                    장비                                   │
│  ─────────────────────────────────────────────────────────────  │
│                                                                  │
│  7. 응용 계층    ┌────────────────────────────────────────────┐ │
│                  │ 방화벽 (L7/애플리케이션), 프록시 서버,     │ │
│                  │ 로드 밸런서, ADC, IDS/IPS                  │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  6. 표현 계층    ┌────────────────────────────────────────────┐ │
│                  │ 소프트웨어 (SSL/TLS 라이브러리)            │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  5. 세션 계층    ┌────────────────────────────────────────────┐ │
│                  │ 소프트웨어 (세션 관리자)                   │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  4. 전송 계층    ┌────────────────────────────────────────────┐ │
│                  │ 방화벽 (L4), 로드 밸런서                   │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  3. 네트워크 계층┌────────────────────────────────────────────┐ │
│                  │ 라우터, L3 스위치, 방화벽 (L3)             │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  2. 데이터링크   ┌────────────────────────────────────────────┐ │
│                  │ 스위치 (L2), 브리지, NIC, 무선 AP          │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
│  1. 물리 계층    ┌────────────────────────────────────────────┐ │
│                  │ 허브, 리피터, 케이블, 커넥터, 모뎀         │ │
│                  └────────────────────────────────────────────┘ │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 장비 동작 계층 다이어그램

```
┌─────────────────────────────────────────────────────────────────┐
│                   네트워크 장비의 동작 계층                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│           허브        스위치       라우터      방화벽(L7)       │
│           (Hub)      (Switch)     (Router)    (Firewall)        │
│                                                                  │
│   7. 응용   │          │           │           ████████         │
│   6. 표현   │          │           │           ████████         │
│   5. 세션   │          │           │           ████████         │
│   4. 전송   │          │           │           ████████         │
│   3. 네트워크│          │           ████████   ████████         │
│   2. 데이터링크│        ████████   ████████   ████████         │
│   1. 물리   ████████   ████████   ████████   ████████         │
│                                                                  │
│   허브: L1만 처리 (신호 증폭/복제)                              │
│   스위치: L1-L2 처리 (MAC 기반 전달)                            │
│   라우터: L1-L3 처리 (IP 기반 라우팅)                           │
│   방화벽(L7): L1-L7 처리 (심층 패킷 검사)                       │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 7. OSI 모델의 실제 적용

### 웹 페이지 로딩 과정

```
┌─────────────────────────────────────────────────────────────────┐
│          웹 페이지 로딩 (www.example.com 접속)                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   사용자가 브라우저에 www.example.com 입력                      │
│                                                                  │
│   7. 응용 계층                                                  │
│      └── HTTP 요청 생성: GET / HTTP/1.1                         │
│          Host: www.example.com                                  │
│                                                                  │
│   6. 표현 계층                                                  │
│      └── HTTPS라면 TLS 암호화 적용                              │
│          데이터 인코딩 (UTF-8)                                  │
│                                                                  │
│   5. 세션 계층                                                  │
│      └── TCP 연결 세션 관리                                     │
│          쿠키/세션 ID 처리                                      │
│                                                                  │
│   4. 전송 계층                                                  │
│      └── TCP 세그먼트 생성                                      │
│          포트: 송신(49152), 수신(443)                           │
│          시퀀스 번호 부여                                       │
│                                                                  │
│   3. 네트워크 계층                                              │
│      └── IP 패킷 생성                                           │
│          DNS로 도메인 → IP 주소 변환                            │
│          출발지 IP: 192.168.1.100                               │
│          목적지 IP: 93.184.216.34                               │
│                                                                  │
│   2. 데이터링크 계층                                            │
│      └── 이더넷 프레임 생성                                     │
│          MAC 주소 추가 (ARP로 확인)                             │
│          CRC 체크섬 추가                                        │
│                                                                  │
│   1. 물리 계층                                                  │
│      └── 전기 신호로 변환하여 케이블로 전송                     │
│          (또는 무선 신호로 전송)                                │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 네트워크 문제 해결 (트러블슈팅)

```
┌─────────────────────────────────────────────────────────────────┐
│                OSI 모델 기반 트러블슈팅                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   하위 계층부터 상위 계층으로 순차적으로 확인                   │
│                                                                  │
│   1. 물리 계층 확인                                             │
│      ┌────────────────────────────────────────────────────┐     │
│      │ - 케이블 연결 상태 확인                            │     │
│      │ - LED 표시등 확인                                  │     │
│      │ - NIC 상태 확인                                    │     │
│      │ - ping localhost (127.0.0.1)                       │     │
│      └────────────────────────────────────────────────────┘     │
│                                                                  │
│   2. 데이터링크 계층 확인                                       │
│      ┌────────────────────────────────────────────────────┐     │
│      │ - MAC 주소 확인 (ipconfig /all, ifconfig)         │     │
│      │ - ARP 테이블 확인 (arp -a)                         │     │
│      │ - 스위치 MAC 테이블 확인                           │     │
│      │ - 듀플렉스 설정 확인                               │     │
│      └────────────────────────────────────────────────────┘     │
│                                                                  │
│   3. 네트워크 계층 확인                                         │
│      ┌────────────────────────────────────────────────────┐     │
│      │ - IP 설정 확인 (ipconfig, ifconfig)                │     │
│      │ - 기본 게이트웨이 ping                             │     │
│      │ - 라우팅 테이블 확인 (netstat -r, route print)    │     │
│      │ - traceroute로 경로 추적                           │     │
│      └────────────────────────────────────────────────────┘     │
│                                                                  │
│   4. 전송 계층 확인                                             │
│      ┌────────────────────────────────────────────────────┐     │
│      │ - 포트 상태 확인 (netstat -an)                     │     │
│      │ - 방화벽 규칙 확인                                 │     │
│      │ - telnet으로 포트 연결 테스트                      │     │
│      └────────────────────────────────────────────────────┘     │
│                                                                  │
│   5-7. 상위 계층 확인                                           │
│      ┌────────────────────────────────────────────────────┐     │
│      │ - 애플리케이션 로그 확인                           │     │
│      │ - DNS 해석 확인 (nslookup)                         │     │
│      │ - 서비스 상태 확인                                 │     │
│      │ - 인증서 유효성 확인 (HTTPS)                       │     │
│      └────────────────────────────────────────────────────┘     │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 트러블슈팅 명령어 요약

```
┌─────────────────────────────────────────────────────────────────┐
│                   트러블슈팅 명령어                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   계층    명령어 (Windows/Linux)        용도                    │
│   ─────────────────────────────────────────────────────────────│
│                                                                  │
│   L1      - LED 확인                   물리적 연결 상태        │
│           - 케이블 테스터                                       │
│                                                                  │
│   L2      - arp -a                     ARP 테이블 확인         │
│           - ipconfig /all | ifconfig   MAC 주소 확인           │
│                                                                  │
│   L3      - ping <IP>                  연결 테스트             │
│           - tracert | traceroute       경로 추적               │
│           - ipconfig | ifconfig        IP 설정 확인            │
│           - netstat -r | route         라우팅 테이블           │
│                                                                  │
│   L4      - netstat -an                포트 상태               │
│           - telnet <IP> <port>         포트 연결 테스트        │
│                                                                  │
│   L5-7    - nslookup <domain>          DNS 확인                │
│           - curl | wget                HTTP 테스트             │
│           - 애플리케이션 로그                                   │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 8. 연습 문제

### 기초 문제

**1. OSI 7계층을 아래에서 위로 순서대로 나열하시오.**

**2. 다음 프로토콜이 동작하는 계층을 연결하시오.**
   - (a) HTTP       (  ) 전송 계층
   - (b) TCP        (  ) 네트워크 계층
   - (c) IP         (  ) 데이터링크 계층
   - (d) 이더넷     (  ) 응용 계층

**3. PDU의 올바른 매칭을 고르시오.**
   - 전송 계층: (  )
   - 네트워크 계층: (  )
   - 데이터링크 계층: (  )

   보기: 세그먼트, 패킷, 프레임, 비트

**4. 캡슐화 과정에서 헤더가 추가되는 순서를 설명하시오.**

### 응용 문제

**5. 다음 상황에서 문제가 발생한 계층을 추정하시오.**
   - (a) 케이블을 연결했는데 LED가 점등되지 않음
   - (b) 같은 네트워크의 다른 PC는 ping이 되지만 인터넷이 안 됨
   - (c) 웹 페이지에 접속은 되지만 로그인이 안 됨

**6. HTTP와 HTTPS 통신에서 OSI 각 계층의 역할을 설명하시오.**

**7. TCP와 UDP의 차이점을 OSI 모델 관점에서 설명하시오.**

### 심화 문제

**8. 다음 그림에서 각 장비가 처리하는 OSI 계층을 표시하시오.**

```
[PC] ---[허브]---[스위치]---[라우터]---[방화벽]---[서버]
```

**9. 캡슐화와 역캡슐화가 필요한 이유를 설명하시오.**

**10. OSI 모델과 TCP/IP 모델의 차이점을 계층 구조 관점에서 설명하시오.**

---

<details>
<summary>정답</summary>

**1.** 물리 → 데이터링크 → 네트워크 → 전송 → 세션 → 표현 → 응용

**2.**
- (a) HTTP - 응용 계층
- (b) TCP - 전송 계층
- (c) IP - 네트워크 계층
- (d) 이더넷 - 데이터링크 계층

**3.**
- 전송 계층: 세그먼트
- 네트워크 계층: 패킷
- 데이터링크 계층: 프레임

**4.** 응용 데이터 → TCP 헤더 추가(세그먼트) → IP 헤더 추가(패킷) → 이더넷 헤더/트레일러 추가(프레임) → 비트 변환

**5.**
- (a) 물리 계층 (케이블 또는 NIC 문제)
- (b) 네트워크 계층 (라우팅/게이트웨이 문제)
- (c) 응용 계층 또는 세션 계층 (인증/세션 문제)

**6.**
- 응용: HTTP 요청/응답 생성
- 표현: HTTPS에서 TLS 암호화
- 세션: TCP 연결 관리
- 전송: TCP 세그먼트화, 포트 번호
- 네트워크: IP 패킷, 라우팅
- 데이터링크: MAC 주소, 프레임
- 물리: 비트 전송

**7.**
- TCP: 연결 지향, 신뢰성 보장, 흐름/오류 제어, 세그먼트 단위
- UDP: 비연결, 신뢰성 없음, 오버헤드 적음, 데이터그램 단위
- 둘 다 전송 계층(L4)에서 동작

**8.**
- 허브: L1
- 스위치: L2
- 라우터: L3
- 방화벽: L3-L7 (종류에 따라 다름)

**9.**
- 계층별 독립성 유지 (한 계층 변경이 다른 계층에 영향 안 줌)
- 표준화된 인터페이스 제공
- 상호운용성 보장
- 모듈화로 개발/유지보수 용이

**10.**
- OSI: 7계층, 이론적 참조 모델, ISO 표준
- TCP/IP: 4계층, 실용적 구현 모델, 인터넷 표준
- OSI의 세션/표현 계층이 TCP/IP에서는 응용 계층에 통합

</details>

---

## 다음 단계

- [03_TCP_IP_모델.md](./03_TCP_IP_모델.md) - TCP/IP 모델과 인터넷 프로토콜

---

## 참고 자료

- Computer Networking: A Top-Down Approach (Kurose & Ross)
- TCP/IP Illustrated (W. Richard Stevens)
- [Cisco: OSI Model](https://www.cisco.com/c/en/us/solutions/small-business/resource-center/networking/osi-model.html)
- [RFC 1122: Requirements for Internet Hosts](https://tools.ietf.org/html/rfc1122)

